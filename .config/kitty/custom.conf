# vim:ft=kitty

#include dark-theme.auto.conf
#: NOTE: dark-theme.auto.conf auto-loading is broken due to a kitty bug:
#:   - GNOME reports 'prefer-dark' via gsettings
#:   - Kitty incorrectly maps this to 'no_preference' instead of 'dark'
#:   - See: https://github.com/kovidgoyal/kitty/issues/8316
#:   - See: https://github.com/kovidgoyal/kitty/discussions/7343
#::
#: As a workaround, this file (custom.conf) is explicitly included in
#: kitty.conf to ensure the dark theme is applied.
#::

#: Note: ignoreboth or ignorespace present in bash HISTCONTROL setting, showing running command will not be robust

#: ====================================================================
#: Customizations
#: ====================================================================

startup_session dev.kitty-session
text_composition_strategy legacy
# INVALID: draw_bold_text_with_bright_colors yes

linux_display_server x11
#: Set to x11 so that Solaar rules can work. May break under Wayland
#: in recent versions of Pop!_OS

#: Choose between Wayland and X11 backends. By default, an appropriate
#: backend based on the system state is chosen automatically. Set it
#: to x11 or wayland to force the choice. Changing this setting by
#: reloading the config is not supported.

# INVALID: linux_desktop_environment no

#: Disable desktop environment integration to avoid systemd OOMPolicy errors
#: on newer systemd versions where OOMPolicy is read-only.

hide_window_decorations no
#: Hide the window decorations (title-bar and window borders) with
#: yes. On macOS, titlebar-only can be used to only hide the titlebar.
#: Whether this works and exactly what effect it has depends on the
#: window manager/operating system. Note that the effects of changing
#: this setting when reloading config are undefined.

notify_on_cmd_finish invisible 20

mouse_hide_wait -1
#: Hide mouse cursor after the specified number of seconds of the
#: mouse not being used. Set to zero to disable mouse cursor hiding.
#: Set to a negative value to hide the mouse cursor immediately when
#: typing text. Disabled by default on macOS as getting it to work
#: robustly with the ever-changing sea of bugs that is Cocoa is too
#: much effort.

inactive_text_alpha .7
#: Fade the text in inactive windows by the specified amount (a number
#: between zero and one, with zero being fully faded).

#: Cursor customization {{{

cursor_text_color background

#: Choose the color of text under the cursor. If you want it rendered
#: with the background color of the cell underneath instead, use the
#: special keyword: background

cursor_shape block
# Didn't work. why?
#: The cursor shape can be one of (block, beam, underline). Note that
#: when reloading the config this will be changed only if the cursor
#: shape has not been set by the program running in the terminal.

cursor_beam_thickness 1.8

#: Defines the thickness of the beam cursor (in pts)

cursor_trail 200
cursor_trail_decay 0.1 0.4
cursor_trail_start_threshold 2

cursor_blink_interval .3

#: The interval (in seconds) at which to blink the cursor. Set to zero
#: to disable blinking. Negative values mean use system default. Note
#: that numbers smaller than repaint_delay will be limited to
#: repaint_delay.

#: }}}

#: Font sizes {{{

#: You can change the font size for all top-level kitty OS windows at
#: a time or only the current one.

map kitty_mod+f12 close_other_windows_in_tab
map  kitty_mod+; detach_window ask
map kitty_mod+' move_window_to_top
#: Window navigation with kitty_mod+arrows {{{
map kitty_mod+\ nth_window -1
map kitty_mod+left previous_window
map kitty_mod+right next_window
#: }}}

#: Window movement with kitty_mod+[ and ] {{{
map kitty_mod+[ move_window_backward
map kitty_mod+] move_window_forward
#: }}}
#: Disable default window move bindings (using [ and ] now) {{{
map kitty_mod+f no_op
map kitty_mod+b no_op
#: }}}

map ctrl+alt+; detach_tab ask
# Doesn't work: map ctrl+alt+' move_tab_to_first
#: Tab switching {{{
map alt+\ select_tab
map ctrl+\ goto_tab -1
map ctrl+alt+1 goto_tab 1
map ctrl+alt+2 goto_tab 2
map ctrl+alt+3 goto_tab 3
map ctrl+alt+4 goto_tab 4
map ctrl+alt+5 goto_tab 5
map ctrl+alt+6 goto_tab 6
map ctrl+alt+7 goto_tab 7
map ctrl+alt+8 goto_tab 8
map ctrl+alt+9 goto_tab 9
#: }}}

#: Tab navigation with Ctrl+Alt+arrows {{{
map ctrl+alt+left previous_tab
map ctrl+alt+right next_tab
#: }}}

#: Tab movement with Ctrl+Alt+[ and ] {{{
map ctrl+alt+[ move_tab_backward
map ctrl+alt+] move_tab_forward
#: }}}
#: Disable default tab move bindings (using Ctrl+Alt+[ and ] now) {{{
map kitty_mod+, no_op
map kitty_mod+. no_op
#: }}}

#: Tab navigation with Ctrl+Alt+arrows {{{
# Go to the previously active session (larger negative numbers jump further back in history)
map f12 goto_session -1
map alt+f12 goto_session ~/.config/kitty/
#: }}}

map ctrl+alt+left previous_tab
#: Font selection (use Monospace for system default, or pick a specific font)
#: Note: Monospace currently resolves to "DejaVu Sans Mono" on this system
font_family      Monospace
#font_family      MonoLisa     # Premium font, 9.5pt - excellent readability
#font_family      Hack         # Popular coding font, designed for source code
#font_family      Fira Code    # Includes programming ligatures
#font_family      JetBrains Mono # Optimized for developer experience
#font_family      Ubuntu Mono  # Clean, open-source monospace
# bold_font        auto
# italic_font      auto
# bold_italic_font auto

#: You can specify different fonts for the bold/italic/bold-italic
#: variants. To get a full list of supported fonts use the `kitty
#: list-fonts` command. By default they are derived automatically, by
#: the OSes font system. Setting them manually is useful for font
#: families that have many weight variants like Book, Medium, Thick,
#: etc. For example::

#:     font_family      Operator Mono Book
#:     bold_font        Operator Mono Medium
#:     italic_font      Operator Mono Book Italic
#:     bold_italic_font Operator Mono Medium Italic

#font_size 9.5
font_size 7.5
# 8 gives slightly worse rendering without changing the size when compared with 7.5

#: Font size (in pts)
map kitty_mod+equal     change_font_size current +0.5
map kitty_mod+minus     change_font_size current -0.5
map kitty_mod+backspace change_font_size current 0

#: To setup shortcuts for specific font sizes::

#:     map kitty_mod+f6 change_font_size all 10.0

#: To setup shortcuts to change only the current OS window's font
#: size::
#:     map kitty_mod+f6 change_font_size current 10.0
#: }}}

#: Tab bar {{{
active_tab_font_style   bold
inactive_tab_font_style normal

active_tab_title_template "[{session_name}] {title} {num_windows}:{layout_name}"
#: Template to use for active tabs, if not specified falls back to
#: tab_title_template.

tab_bar_style powerline

#: The tab bar style, can be one of: fade, separator, powerline, or
#: hidden. In the fade style, each tab's edges fade into the
#: background color, in the separator style, tabs are separated by a
#: configurable separator, and the powerline shows the tabs as a
#: continuous line. If you use the hidden style, you might want to
#: create a mapping for the select_tab action which presents you with
#: a list of tabs and allows for easy switching to a tab.

# tab_powerline_style angled

#: The powerline separator style between tabs in the tab bar when
#: using powerline as the tab_bar_style, can be one of: angled,
#: slanted, or round.

tab_activity_symbol ‚óè

#: Some text or a unicode symbol to show on the tab if a window in the
#: tab that does not have focus has some activity.

tab_title_template "({index}) {fmt.fg.red}{bell_symbol}{activity_symbol}{fmt.fg.tab}{tab.last_focused_progress_percent}{title}"

#: A template to render the tab title. The default just renders the
#: title. If you wish to include the tab-index as well, use something
#: like: {index}: {title}. Useful if you have shortcuts mapped for
#: goto_tab N. If you prefer to see the index as a superscript, use
#: {sup.index}. In addition you can use {layout_name} for the current
#: layout name and {num_windows} for the number of windows in the tab.
#: Note that formatting is done by Python's string formatting
#: machinery, so you can use, for instance, {layout_name[:2].upper()}
#: to show only the first two letters of the layout name, upper-cased.
#: If you want to style the text, you can use styling directives, for
#: example: {fmt.fg.red}red{fmt.fg.default}normal{fmt.bg._00FF00}green
#: bg{fmt.bg.normal}. Similarly, for bold and italic:
#: {fmt.bold}bold{fmt.nobold}normal{fmt.italic}italic{fmt.noitalic}.

#: }}}

background_opacity 1

#: The opacity of the background. A number between 0 and 1, where 1 is
#: opaque and 0 is fully transparent.  This will only work if
#: supported by the OS (for instance, when using a compositor under
#: X11). Note that it only sets the background color's opacity in
#: cells that have the same background color as the default terminal
#: background. This is so that things like the status bar in vim,
#: powerline prompts, etc. still look good.  But it means that if you
#: use a color theme with a background color in your editor, it will
#: not be rendered as transparent.  Instead you should change the
#: default background color in your kitty config and not use a
#: background color in the editor color scheme. Or use the escape
#: codes to set the terminals default colors in a shell script to
#: launch your editor.  Be aware that using a value less than 1.0 is a
#: (possibly significant) performance hit.  If you want to dynamically
#: change transparency of windows set dynamic_background_opacity to
#: yes (this is off by default as it has a performance cost). Changing
#: this setting when reloading the config will only work if
#: dynamic_background_opacity was enabled in the original config.
